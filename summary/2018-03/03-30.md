## 03-30

---

## 수업 정리

---

## 스프링 컨테이너의 Life Cycle

1. 컨테이너 생성
2. 빈 객체 생성 (meta data for bean)
3. 컨테이너 이용
4. 컨테이너 종료(빈 객체 제거)

빈은 컨테이너가 종료될 때 제거 된다.  
그렇기 때문에 컨테이너를 닫아주는 것이 필수이다.  
혹여나 프로세스가 강제 종료 되어 컨테이너가 닫히지 않을 수도 있다.  
그런 경우는 registerShutdownHook() 메소드로 대비할 수 있다.  

---

# 빈 객체의 라이프 사이클

빈의 라이프 사이클은 스프링 컨테이너에 의해서 관리된다.  
사용자가 직접 이 과정을 조정할 수도 있다.  
InitializingBean 인터페이스를 구현하면 빈의 초기화가 가능하다.  
같은 맥락으로 빈의 소멸 또한 관리가 가능하다.  

DB 커넥션 풀을 관리할 때 사용하면 좋다.  
빈의 초기화와 소멸 주기에 맞춰 DBCP를 관리할 수 있기 때문이다.  

# Bean Object Scope

스프링 빈의 주요 범위는 두 가지가 있다.  

1. Singleton
2. Prototype

## Singleton Scope

스프링은 빈 객체를 한 번만 생성한다.  
다시말해 getBean 메소드를 아무리 호출한대도,  
매번 동일한 객체를 참조한다.  

싱글톤은 스프링의 기본 값으로 별도 설정이 필요없다.  
이를 명시하고 싶을 경우 scope="singleton" 또는  
@Scope("singleton")을 사용하면 된다.  

## Prototype Scope

싱글톤과 달리 동일한 값의 객체가 복수개 필요할 때도 있을 것이다.   
그 땐 속성 또는 어노테이션을 "prototpye"으로 명시해주면 된다.  